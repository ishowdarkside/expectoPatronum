doctype html
head
  meta(charset='UTF-8')
  meta(http-equiv='X-UA-Compatible' content='IE=edge')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  script(src='script/navScripts/controller.js' type='module' defer='')
  link(rel="icon" href="/imgs/favicon.png" type="image/x-icon")
  link(rel='stylesheet' href='/style.css')
  title Expecto Patronum
nav.navbar
  a(href='/')
    h1.heading-primary.heading-primary-blue
      | Expecto Patronum
  .input-container
    form#searchForm
      img(src='./imgs/search.svg' alt='search icon')
      input#search(type='search' placeholder=' ')
  a#createPost(href="/createPost")
    img(src="/imgs/plus.svg")
  .user-container
    a(href='/me')
      - const firstName = user.name.split(' ')[0];
      span#name= firstName
      img(src=`${user.profilePicture}` alt='user image')
section.main__section
  .left-sidebar
    ul
      li
        a(href='#')
          img(src='./imgs/home.svg' alt='')
          span Home
      li
        a(href='#')
          img(src='./imgs/message.svg' alt='')
          span Chat
      li#notifications
        a(href='/notifications')
          img(src='./imgs/notification.png' alt='')
          span Notifications
          if user.requests.length > 0
            .badge= `${user.requests.length > 9 ? '9+' : user.requests.length}`
      li
        a(href='/settings')
          img(src='./imgs/settings.svg' alt='')
          span Settings
  .main-grid.search-user-grid
    h2.heading-primary.mb-big
      | Search results for #{searchQuery}
    - const html = searchResults.length > 0 ? searchResults.map(currUser => {return `<a href="/findUser/${currUser.id}"><div class="search-data-wrapper"><img src="${currUser.profilePicture}" alt="profile picture"><h2 class="username">${currUser.name}</h2><span class="user-description">${currUser.description ? currUser.description : ''}</span><span class="user-postCount">${currUser.posts.length} posts</span><span class="user-followerCount">${currUser.followers.length} followers</span><span class="user-followingCount">${currUser.following.length} following</span></div></a>`}).join('') : 'no results found';
    != html
  .right-sidebar